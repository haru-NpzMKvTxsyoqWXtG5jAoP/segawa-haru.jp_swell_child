@charset "UTF-8";
/*
    Template: swell
    Theme Name: SWELL CHILD
    Theme URI: https://swell-theme.com/
    Description: SWELLの子テーマ
    Version: 1.0.0
    Author: LOOS WEB STUDIO
    Author URI: https://loos-web-studio.com/

    License: GNU General Public License
    License URI: http://www.gnu.org/licenses/gpl.html
*/

:root {
 /* カード関連のCSS変数を定義 */
  --card-image-padding: clamp(25px, 1.6vw, 50px);
  --card-grid-gap: 1px; /* 1px から 1px に変更 */
  --card-grid-min-item-width: 345px;          /* カードの最小幅 */
  --card-bg-color: #fff;                      /* カードの背景色 */
  --card-border-radius: 10px;                 /* カードの角丸 */
  --card-text-max-height: calc(1.5em * 3);    /* カード内テキストの最大高さ */
  --card-grid-max-columns: 4;                 /* 最大列数を4に指定 */
  --card-aspect-ratio: 1 / 1.05;             /* カードのアスペクト比 (1.15から変更) */

  /* ギャラリー関連のCSS変数を定義 */
  --gallery-padding: clamp(15px, 4vw, 50px);
  --gallery-gutter: 1px; /* JSのgutterと値を合わせる */
  --gallery-columns-pc: 3;
  --gallery-columns-tablet: 2;
  --gallery-columns-mobile: 1;
}

/* ===========================================================
   全幅グループ内の制約付きインナーコンテナの幅制限を解除
   （harusegawa-title-svgの幅制限解除のため）
=========================================================== */
.wp-block-group.alignfull > .wp-block-group__inner-container.is-layout-constrained {
  max-width: none !important; /* SWELLの最大幅制限を解除 */
}

/* ===========================================================
   harusegawa-title-svg (カスタムHTML)
=========================================================== */
.harusegawa-title-svg {
  padding: 0 clamp(15px, 4vw, 50px);
}

/* SVG本体
---------------------------------------------------------- */
.harusegawa-title-svg svg {
  display: block;
  fill: #000000;
}

/* ===========================================================
   harusegawa-title-caption (H2) 
=========================================================== */
.post_content .harusegawa-title-caption {
  padding: 0 clamp(15px, 4vw, 50px);
  font-size: clamp(14px, calc(12px + 0.5vw), 18px);
  margin-top: 0;
  line-height: 1.6;
}

/* ===========================================================
   カード一覧
=========================================================== */
div.wp-block-group.card-grid {
  gap: var(--card-grid-gap); /* カスタムプロパティを使用 */
  /* 最大4列に制限しつつ、レスポンシブに列数を調整 */
  grid-template-columns: repeat(
    auto-fit, 
    minmax(
      max(
        var(--card-grid-min-item-width), 
        calc((100% - 100px - (var(--card-grid-max-columns) - 1) * var(--card-grid-gap)) / var(--card-grid-max-columns))
      ), 
      1fr
    )
  );
  padding-left: clamp(15px, 4vw, 50px);  /* 左側の余白をclampで動的に */
  padding-right: clamp(15px, 4vw, 50px); /* 右側の余白をclampで動的に */
}

/* ===========================================================
   カード本体
=========================================================== */
.card-item {
  aspect-ratio: var(--card-aspect-ratio); /* アスペクト比を指定 */
  min-width: var(--card-grid-min-item-width); /* カードの最小幅 */
  overflow: hidden; /* はみ出た内容を隠す */
  border-radius: var(--card-border-radius); /* 角丸 (10px) */
  background-color: var(--card-bg-color); /* 背景色 (白) */
  transition: transform 0.15s ease-out; /* transformのアニメーション速度を0.15秒に短縮 */
}

.card-item:hover {
  transform: scale(0.95); /* ホバー時にカードを少し縮小する */
}

/* ===========================================================
   カード内の要素
=========================================================== */

/* カード内画像 */
.card-item img {
  width: calc(100% - (var(--card-image-padding) * 2)); /* ★ 余白分を引く */
  display: block;
  margin: var(--card-image-padding); /* ★ 余白を作る */
  border-radius: calc(var(--card-border-radius) - 5px); /* ★ カードより5px小さい角丸 */
}

/* カード内見出し (h3) */
.card-item h3 {
  margin: 0.5rem 1.25rem 0.3rem; /* 上下左右のマージン */
  font-size: 1.35rem;             /* フォントサイズ */
  font-weight: 700;               /* フォントの太さ */
  line-height: 1.4;               /* 行の高さ */
}

/* カード内テキスト (p) */
.card-item p {
  font-size: 13px;            /* フォントサイズを13pxに指定 */
  padding-top: 0;
  padding-right: 0.8rem;      /* 内側の右パディング */
  padding-bottom: 0.5rem;
  padding-left: 0.8rem;       /* 内側の左パディング */
  margin-right: 0.5rem;         /* 外側の右余白を0.5remに変更 */
  margin-left: 0.5rem;          /* 外側の左余白を0.5remに変更 */
  line-height: 1.6;           /* 行の高さ */
  max-height: var(--card-text-max-height); /* テキストエリアの最大高さを制限 */
  text-align: justify;        /* 均等割り付け */
}


/* ===========================================================
   メイソンリーギャラリー：基本スタイル
=========================================================== */
.masonry-gallery {
  display: block !important; /* display:grid の上書きを試みる */
  /* paddingを削除し、widthとmarginで余白を表現する */
  width: calc(100% - (var(--gallery-padding) * 2));
  margin-left: auto;
  margin-right: auto;
  box-sizing: border-box; /* パディングを幅の内側に含めるため */
}

.masonry-gallery .grid-sizer {
  /* 高さやボーダー、パディングは不要 */
}

.masonry-gallery .masonry-gallery-item,
.masonry-gallery .masonry-gallery-item--wide { 
  border: none; /* 枠線をなしに */
  padding: 0; /* 10px から 0 に変更 */
  box-sizing: border-box; 
  transition: transform 0.15s ease-out; /* ← この行を追加 */
}

/* ===========================================================
   メイソンリーギャラリー：ホバー効果
=========================================================== */
.masonry-gallery-item:hover,
.masonry-gallery-item--wide:hover {
  transform: scale(0.95); /* ホバー時に少し縮小 */
}

/* ===========================================================
   メイソンリーギャラリー：H6見出し
=========================================================== */
.masonry-gallery .masonry-gallery-item h6,
.masonry-gallery .masonry-gallery-item--wide h6 {
  font-size: 12px; /* フォントサイズを12pxに */
  margin-top: 0; /* 上マージンをリセット */
  margin-bottom: 0; /* 下マージンをリセット */
  line-height: 1; /* 行の高さをフォントサイズに近づける (お好みで調整) */
}

/* ===========================================================
   メイソンリーギャラリー：本文テキスト
=========================================================== */
.masonry-gallery .masonry-gallery-item p,
.masonry-gallery .masonry-gallery-item--wide p {
  margin-bottom: 0.5rem; /* テキスト下の余白を調整 */
}

.masonry-gallery .masonry-gallery-item img,
.masonry-gallery .masonry-gallery-item--wide img { 
  display: block;
  width: 100%;
  height: auto;
  border-radius: 8px;
}

/* スマホ (デフォルト) */
@media (max-width: 767px) { 
  .masonry-gallery .grid-sizer,
  .masonry-gallery .masonry-gallery-item,
  .masonry-gallery .masonry-gallery-item--wide {
    margin-bottom: 8px; /* 15px から変更 */
    width: 100% !important; 
  }
}

/* タブレット (768px以上) */
@media (min-width: 768px) and (max-width: 1023px) { 
  .masonry-gallery .grid-sizer,
  .masonry-gallery .masonry-gallery-item {
    margin-bottom: 10px; /* 20px から変更 */
    width: calc(((100% - var(--gallery-gutter))) / var(--gallery-columns-tablet)) !important; 
  }
  .masonry-gallery .masonry-gallery-item--wide {
    margin-bottom: 10px; /* 20px から変更 */
    width: calc((((100% - (var(--gallery-gutter) * (var(--gallery-columns-tablet) - 1))) / var(--gallery-columns-tablet)) * 2) + var(--gallery-gutter)) !important; 
  }
}

/* PC (1024px以上) */
@media (min-width: 1024px) {
  .masonry-gallery .grid-sizer,
  .masonry-gallery .masonry-gallery-item {
    margin-bottom: 12px; /* 25px から変更 */
    width: calc(((100% - (var(--gallery-gutter) * (var(--gallery-columns-pc) - 1))) / var(--gallery-columns-pc))) !important; 
  }
  .masonry-gallery .masonry-gallery-item--wide {
    margin-bottom: 12px; /* 25px から変更 */
    width: calc((((100% - (var(--gallery-gutter) * (var(--gallery-columns-pc) - 1))) / var(--gallery-columns-pc)) * 2) + var(--gallery-gutter)) !important;
  }
}

